---
import "../styles/global.css";
import Counter from "../components/Counter.svelte";
// import ContactForm from "../components/ContactForm.svelte";
import { getCollection } from "astro:content";

interface Project { title: string; href?: string; tech?: string[] }

// Choose API base: use env, else localhost in dev, else no API
const API =
  import.meta.env.PUBLIC_API_URL ??
  (import.meta.env.DEV ? "http://localhost:8000" : undefined);

let projects: Project[] = [];

if (API) {
  try {
    const r = await fetch(`${API}/api/projects`);
    if (r.ok) projects = await r.json();
  } catch {
    projects = [];
  }
}

if (projects.length === 0) {
  const entries = await getCollection("projects");
  projects = entries.map((e) => ({
    title: e.data.title,
    href: `/projects/${e.slug}`,
    tech: e.data.tech,
  }));
}
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Sivan Syed - Portfolio</title>
    <meta name="description" content="Physics & ECE @ UT Austin • Robotics, controls, and systems." />
    <meta property="og:title" content="Sivan Syed - Portfolio" />
    <meta property="og:description" content="Physics & ECE @ UT Austin • Robotics, controls, and systems." />
    <meta property="og:image" content={`/og.png`} />
    <link rel="icon" href={`/favicon.svg`} />
  </head>
  <body class="mx-auto max-w-3xl p-6">
    <header class="flex items-center justify-between gap-4">
      <div class="flex items-center gap-4">
        <img src={`/favicon.svg`} alt="Logo" class="size-10" />
        <div>
          <h1 class="text-3xl font-bold">Sivan Syed</h1>
          <p class="opacity-80">Robotics • Controls • Systems</p>
          <p class="text-sm opacity-70">Undergraduate • Physics & Electrical & Computer Engineering</p>
          <p class="text-sm opacity-60">The University of Texas at Austin</p>
        </div>
      </div>
      <nav class="text-sm">
        <a class="underline" href={`/projects`}>Projects</a>
        <a class="underline ml-3" href={`/now`}>Now</a>
        <a class="underline ml-3" href={`/resume.pdf`} target="_blank">Resume</a>
        <a class="underline ml-3" href={`/contact`}>Contact</a>
      </nav>
    </header>

    <section class="mt-8">
      <h2 class="text-xl font-semibold">Interactive demo</h2>
      <Counter client:load />
    </section>

    <section class="mt-12">
      <h2 class="text-xl font-semibold">What I do</h2>
      <p class="mt-2 opacity-90">
        I thrive at the intersection of theory, computation, and hardware implementation, 
        building prototypes that merge mechanics, electronics, and software. I am also 
        proactive in career development, tailoring my skillset to roles in electronics 
        hardware, computational engineering, robotics, and aerospace.
      </p>
    </section>

    <section class="mt-12">
      <h2 class="text-xl font-semibold">What's my goal</h2>
      <p class="mt-2 opacity-90">
        My goal is to push the boundaries of science and engineering by contributing to bleeding-edge
        research and technology development in physics-driven engineering fields, particularly in areas 
        that demand both rigorous theoretical insight and innovative hardware solutions. Whether in 
        condensed matter physics, plasma physics, robotics, or otherwise bleeding-edge technology,
        I aim to bridge theoretical knowledge with practical systems that make an impact.
      </p>
    </section>

    <section class="mt-12">
      <h2 class="text-xl font-semibold">Academic Coursework</h2>
      <p class="mt-2 opacity-90">
        Through my studies in Physics and Electrical & Computer Engineering at UT Austin, I have 
        completed a range of rigorous coursework that builds both theoretical depth and practical 
        engineering expertise. Highlights include:
      </p>
      <ul class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm opacity-80">
        <li><span class="font-medium">Physics:</span> Quantum Mechanics I and II, Statistical Mechanics, Thermodynamics, Classical Dynamics, Relativity</li>
        <li><span class="font-medium">Electrical Engineering:</span> Electronic Circuits Laboratory, Digital Logic Design, Semiconductor Devices, Embedded Systems, Linear Systems & Signals</li>
        <li><span class="font-medium">Mathematics:</span> Real Analysis, Complex Analysis, Linear Algebra, Differential Equations</li>
        <li><span class="font-medium">Applied:</span> Computational Physics, Electromagnetics, Fluid Dynamics, Mechanics of Solids</li>
        <li><span class="font-medium">Miscellaneous:</span> German Language, Experiments in Materials Science and Engineering, Software Design</li>
      </ul>
    </section>  

    <section class="mt-12">
      <h2 class="text-xl font-semibold">Hobbies</h2>
      <p class="mt-2 opacity-90">
        Outside of academics and engineering projects, I enjoy exploring a plethora of topics. I have 
        enjoyed martial arts since I was a kid, and I practice Taekwondo and Muay Thai whenever I have
        the chance. My favorite book series is undoubtedly the Red Rising Saga by Pierce Brown. I have 
        a love for bouldering which has grown since I've began college. However, my favorite hobby
        is going on long walks that build relationships with my friends.
      </p>
    </section>
  </body>
</html>
